{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}

<h2>Your Events</h2>

<a href="{{ url_for('create_event') }}" class="btn btn-primary mb-3">
    + Create Event
</a>

{% if upcoming_events %}
{% for event, days_left in upcoming_events %}
<div class="card mb-3">
    <div class="card-body">
        <h5 class="card-title">
            <a href="{{ url_for('event_detail', event_id=event.id) }}">
                {{ event.title }}
            </a>
        </h5>

        <p class="card-text">
            Date: {{ event.event_date }} <br>
            <span class="text-danger">
                {{ days_left }} days left
            </span>
        </p>

        <a href="{{ url_for('edit_event', event_id=event.id) }}" class="btn btn-warning btn-sm">Edit</a>

        <a href="{{ url_for('delete_event', event_id=event.id) }}" class="btn btn-danger btn-sm"
            onclick="return confirm('Delete this event?');">
            Delete
        </a>
    </div>
</div>
{% endfor %}
{% else %}
<p>No upcoming events.</p>
{% endif %}

{% endblock %}